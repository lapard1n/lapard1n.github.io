"use strict";$(document).ready(function(){NProgress.start()}),$(window).on("load",function(){NProgress.done(!0)}),setTimeout(function(){document.querySelector(".preload").classList.remove("preload")},250);const sliderBtn=document.querySelector(".slider__link-down"),isMobile=(window.onload=()=>{window.setTimeout(()=>{sliderBtn.classList.add("show")},300)},{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}});if(isMobile.any()){document.body.classList.add("_touch");const a=document.querySelectorAll(".menu__arrow");if(0<a.length)for(let e=0;e<a.length;e++){const c=a[e];c.addEventListener("click",function(e){if(c.parentElement.classList.contains("_active"))c.parentElement.classList.remove("_active");else{for(let e=0;e<a.length;e++)a[e].parentElement.classList.contains("_active")&&a[e].parentElement.classList.remove("_active");c.parentElement.classList.toggle("_active")}},!1)}}else document.body.classList.add("_pc");const menuAnchors=document.querySelectorAll("a[data-goto]");for(let n of menuAnchors)n.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(n.dataset.goto);burgerMenu.classList.contains("_active")&&(document.body.classList.remove("_lock"),burgerMenu.classList.remove("_active"),menuDropout.classList.remove("_active")),t.scrollIntoView({behavior:"smooth",block:"start"})},!1);const goToTopBtn=document.querySelector(".main__link-up"),header=document.querySelector(".header"),options={threshold:1},observeCallback=function(e,t){e.forEach(e=>{e=e.isIntersecting;e?goToTopBtn.classList.remove("show"):goToTopBtn.classList.add("show")})},observer=new IntersectionObserver(observeCallback,options);function backToTop(e){e.preventDefault(),header.scrollIntoView({behavior:"smooth",block:"start"})}if(observer.observe(header),goToTopBtn.addEventListener("click",backToTop,!1),document.documentElement.clientWidth<768){const o=document.querySelectorAll(".menu__sub-list");o.forEach(e=>{var t=document.createElement("hr");e.insertAdjacentElement("afterbegin",t)}),o.forEach(e=>{var t=document.createElement("hr");e.insertAdjacentElement("beforeend",t)})}const burgerMenu=document.querySelector(".burger-menu"),menuDropout=document.querySelector(".menu"),footerLine=(burgerMenu.addEventListener("click",function(e){document.body.classList.toggle("_lock"),burgerMenu.classList.toggle("_active"),menuDropout.classList.toggle("_active")},!1),document.querySelector(".footer__line")),footerInfo=document.querySelector(".footer__info"),footerHeight=document.querySelector(".footer__input-case").offsetHeight,footerInput=(footerLine.style.height=footerHeight-70+"px",footerInfo.style.height=footerHeight+"px",document.querySelectorAll(".footer__input")),footerLabel=document.querySelectorAll(".footer__label"),footerReset=document.querySelector("buttun.footer__submit"),wrapper=(footerInput.forEach(t=>{t.addEventListener("input",function(e){t.nextSibling.nextSibling.classList.add("input-active"),""==t.value&&t.nextSibling.nextSibling.classList.remove("input-active")},!1),footerReset.addEventListener("click",function(e){t.value="",t.nextSibling.nextSibling.classList.remove("input-active")},!1)}),document.querySelector(".slider__wrapper")),track=document.querySelector(".slider__track"),items=document.querySelectorAll(".slider__item"),btnPrev=document.querySelector(".slider__control_prev"),btnNext=document.querySelector(".slider__control_next"),indicators=document.querySelector(".slider__indicators");function slide(){let t=0,n=0,o,c,r=100,e=items.length,i=items[0].offsetWidth,s=items[0],a=items[e-1];var l=s.cloneNode(!0),d=a.cloneNode(!0);let u=0,f=!0;track.insertBefore(d,s),track.appendChild(l),wrapper.classList.add("loaded"),track.onmousedown=v,track.addEventListener("touchstart",v),track.addEventListener("touchmove",p),track.addEventListener("touchend",g),btnPrev.addEventListener("click",function(){k("prev","click")}),btnNext.addEventListener("click",function(){k("next","click")}),track.addEventListener("transitionend",function(){track.classList.remove("shifting"),-1==u&&(track.style.left=-(e*i)+"px",u=e-1);u==e&&(track.style.left=-+i+"px",u=0);f=!0});for(let e=0;e!=items.length;e++){const E=document.createElement("span"),S=(E.classList.add("slider__indicator-line"),document.createElement("div"));S.classList.add("slider__indicator-case"),S.setAttribute("data-index",e),0==e&&S.classList.add("active"),S.setAttribute("href","#"),S.appendChild(E),indicators.appendChild(S),S.addEventListener("click",function(e){h(e.currentTarget)})}const m=document.querySelectorAll("div.slider__indicator-case");function v(e){(e=e||window.event).preventDefault(),o=track.offsetLeft,track.classList.add("active"),"touchstart"==e.type?t=e.touches[0].clientX:(t=e.clientX,document.onmousemove=p,document.onmouseup=g)}function p(e){e=e||window.event,t="touchmove"==e.type?(n=t-e.touches[0].clientX,e.touches[0].clientX):(n=t-e.clientX,e.clientX),track.style.left=track.offsetLeft-n+"px"}function g(e){(c=track.offsetLeft)-o<-r?k("next","swipe"):c-o>r?k("prev","swipe"):track.style.left=o+"px",document.onmousemove=null,document.onmouseup=null,track.classList.replace("active","unactive")}function k(e,t){track.classList.add("shifting"),f&&("click"==t&&(o=track.offsetLeft),"next"==e?(track.style.left=o-i+"px",u++):"prev"==e&&(track.style.left=o+i+"px",u--)),h(),f=!1}function h(e){track.classList.add("shifting"),f&&(m.forEach(e=>{e.dataset.index==u?e.classList.add("active"):e.classList.remove("active")}),0==(e=e.dataset.index)?track.style.left="-1100px":1==e?track.style.left="-2200px":2==e?track.style.left="-3300px":3==e?track.style.left="-4400px":4==e&&(track.style.left="-5500px"),u=e),f=!1}const L=7500;function b(){track.classList.add("shifting"),o=track.offsetLeft,track.style.left=o-i+"px",++u==e+1&&(track.classList.remove("shifting"),track.style.left=-+i+"px",u=0),console.log("go")}let _=setInterval(b,L);const y=new MutationObserver(function(){track.classList.contains("active")?(console.log("ОСТАНОВКА!"),clearInterval(_)):track.classList.contains("unactive")&&(console.log("ПРОДОЛЖЕНИЕ!"),_=setInterval(b,L),track.classList.remove("unactive"))});y.observe(track,{attributes:!0}),btnPrev.addEventListener("click",function(){console.log("ОБНОВИЛ!"),clearInterval(_),_=setInterval(b,L)}),btnNext.addEventListener("click",function(){console.log("ОБНОВИЛ!"),clearInterval(_),_=setInterval(b,L)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?(console.log("Вкладка не активна"),clearInterval(_)):(console.log("Вкладка активна"),_=setInterval(b,L))})}slide();